(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{19:function(e,t,n){e.exports=n(36)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),u=n(1),l=n(4),i=n.n(l),s=n(7),d=n(18),m=n(9),f=(n(31),n(32),"https://mate-api.herokuapp.com");var p=n(15),E=n.n(p),b=(n(33),n(2)),_={user:null},O=(n(34),{filter:"ALL",todoTitle:""}),j=function(){var e=Object(u.c)((function(e){return e.todoFilterReducer.todoTitle})),t=Object(u.c)((function(e){return e.todoFilterReducer.filter})),n=Object(u.b)();return r.a.createElement("form",{className:"TodoFilter",action:""},r.a.createElement("input",{className:"TodoFilter__field",type:"text",name:"title",value:e,onChange:function(e){n({type:"CHANGE_SEARCH_TITLE",payload:e.target.value})}}),r.a.createElement("select",{className:"TodoFilter__field",name:"selectedFilter",value:t,onChange:function(e){n(function(e){return{type:"ALL",payload:e}}(e.target.value))}},r.a.createElement("option",{value:"ALL"},"All"),r.a.createElement("option",{value:"ACTIVE"},"Active"),r.a.createElement("option",{value:"COMPLETED"},"Completed")))},h=function(e){var t=e.todos,n=Object(u.b)();return r.a.createElement("div",{className:"TodoList"},r.a.createElement("h2",null,"Todos:"),r.a.createElement(j,null),r.a.createElement("div",{className:"TodoList__list-container"},r.a.createElement("ul",{className:"TodoList__list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:E()("TodoList__item",e.completed?"TodoList__item--checked":"TodoList__item--unchecked")},r.a.createElement("label",null,r.a.createElement("input",{checked:e.completed,type:"checkbox",readOnly:!0}),r.a.createElement("p",null,e.title)),r.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return n({type:"SET_USER",payload:e.userId})}},"user ",e.userId))})))))},v=(n(35),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.userReducer.user})),n=Object(a.useState)(null),c=Object(m.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,fetch("".concat(f,"/users/").concat(a)).then((function(e){return e.json()})).then((function(e){return e.data}));case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),o&&r.a.createElement("div",{className:"CurrentUser"},r.a.createElement("h2",{className:"CurrentUser__title"},r.a.createElement("span",null,"Selected user:"," ",o.userId)),r.a.createElement("h3",{className:"CurrentUser__name"},o.name),r.a.createElement("p",{className:"CurrentUser__email"},o.email),r.a.createElement("p",{className:"CurrentUser__phone"},o.phone),r.a.createElement("button",{onClick:function(){return e({type:"HIDE_USER"})},type:"button",className:"CurrentUser__clear"},"clear"))}),T=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(u.c)((function(e){return e.todoFilterReducer.filter})),l=Object(u.c)((function(e){return e.todoFilterReducer.todoTitle})),p=Object(u.c)((function(e){return e.userReducer.user})),E=Object(d.a)(n);switch(Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/todos")).then((function(e){return e.json()})).then((function(e){return e.data.filter((function(e){return e.userId}))}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o){case"ACTIVE":E=n.filter((function(e){return!e.completed}));break;case"COMPLETED":E=n.filter((function(e){return e.completed}));break;default:E=n}return l.length>0&&(E=E.filter((function(e){return!!e.title&&e.title.includes(l)}))),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App__sidebar"},r.a.createElement(h,{todos:E})),r.a.createElement("div",{className:"App__content"},r.a.createElement("div",{className:"App__content-container"},p?r.a.createElement(v,null):"No user selected")))},y=n(3),C=n(16),L=n(17),N=Object(y.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(b.a)(Object(b.a)({},e),{},{user:t.payload});case"HIDE_USER":return Object(b.a)(Object(b.a)({},e),{},{user:null});default:return e}},todoFilterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL":return Object(b.a)(Object(b.a)({},e),{},{filter:t.payload});case"ACTIVE":return Object(b.a)(Object(b.a)({},e),{},{filter:"ACTIVE"});case"COMPLETED":return Object(b.a)(Object(b.a)({},e),{},{filter:"COMPLETED"});case"CHANGE_SEARCH_TITLE":return Object(b.a)(Object(b.a)({},e),{},{todoTitle:t.payload});default:return e}}}),A=Object(y.createStore)(N,Object(L.composeWithDevTools)(Object(y.applyMiddleware)(C.a)));o.a.render(r.a.createElement(u.a,{store:A},r.a.createElement(T,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.ca5af94b.chunk.js.map